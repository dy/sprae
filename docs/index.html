<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprae</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sprae@12.x.x/dist/sprae.umd.js" defer start></script>
    <style>
      /* reset styles */
      :root {
        font-size: 21px;
        font-family: "Atkinson Hyperlegible", sans-serif;
      }

      body {
        background: whitesmoke
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgb(from var(--color-blue-700) r g b / 10%), transparent 60%);
        transition: background-position 0.05s;
      }

      body > * {
        position: relative;
      }

      a {
        color: var(--color-blue-700);
        text-decoration-color: rgb(from currentColor r g b / 20%);
        text-underline-offset: .2em;
        text-decoration-line: underline;
      }
      a:hover {
        text-decoration-color: var(--color-blue-700);
      }

      pre {
        background: var(--color-blue-700);
        color: white;
        font-size: smaller;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      button {
        cursor: pointer;
        background: var(--color-blue-700);
        color: white;
        padding: 0.5rem 1rem;
      }

      .bg-graph-paper {
        background-image: linear-gradient(to right, #eee 1px, transparent 1px), linear-gradient(to bottom, #eee 1px, transparent 1px);
        background-size: 1rem 1rem;
      }

      @media screen and (max-width: 768px) {
        :root {
          font-size: 14px;
        }
      }


    </style>
  </head>

  <body :scope="x=0, y=0" :onmousemove.document="e => { x = e.clientX; y = e.clientY; }" :style="{'--x': x + 'px', '--y': y + 'px'}" class="flex-col border border-10 md:border-20 border-blue-700 bg-stone-50 p-6 md:p-20">
    <nav class="container max-w-6xl mx-auto flex md:grid grid-cols-6 gap-8">
      <div class="col-start-4 col-span-2 flex flex-row gap-4 md:gap-8 bold text-sm md:text-base font-bold max-md:ml-auto">
        <!-- <a href="./api.html">docs</a> -->
        <!-- <a href="./examples.html">drops</a> -->
        <!-- <a href="./changelog.html">play</a> -->
        <a href="https://github.com/dy/sprae" class="relative before:content-['⌥  '] before:absolute before:-ml-6 ml-6">v<span :text="window.sprae?.version || '12.1.0'"></span></a>
      </div>
    </nav>

    <header class="my-8">
      <div class="container max-w-6xl mx-auto md:grid grid-cols-6 gap-8">
        <h1 class="text-6xl md:text-8xl font-bold text-blue-700 col-span-3 md:text-right my-8 mt-12">spræ</h1>
      </div>
      <div class="container max-w-6xl mx-auto md:grid grid-cols-6 gap-8">
        <div class="col-start-4 col-span-3 text-blue-700">
          <h2 class="text-2xl md:text-4xl font-bold my-2">
            Hydration for DOM tree
          </h2>
          <h5 class="my-2 leading-snug">Easy progressive enhancement for HTML / JSX.<br />
            Add UI interactions with reactive attributes.</h5>
        </div>
      </div>
    </header>

    <main>
      <section class="container max-w-6xl mx-auto md:grid grid-cols-6 md:my-20" :scope>
        <pre class="p-6 md:p-8 col-span-3"><code :ref="code">&lt;div :scope="count=0"&gt;
  &lt;button :onclick="count++"&gt;+&lt;/button&gt;
  &lt;button :onclick="count--"&gt;–&lt;/button&gt;
  Count: &lt;span :text="count"&gt;&lt;/span&gt;
&lt;/div&gt;</code></pre>
        <div class="col-span-3 p-8 bg-graph-paper h-full" :ref="el => el.innerHTML = code.textContent">
        </div>
      </section>
<!--
      <section class="container max-w-6xl mx-auto my-20 md:grid grid-cols-6">
        <h2 class="text-4xl text-blue-700 font-bold col-span-2 col-start-2 mb-4">Principles</h2>
        <ul class="col-span-3 text-blue-700 list-inside space-y-2">
          <li>Minimal. Uncluttered. Tiny API.</li>
          <li>Open state. Signals reactivity. Configurable.</li>
          <li>0 deps. No build step. JSX, CSP support.</li>
        </ul>
      </section> -->

      <section class="container max-w-6xl mx-auto my-20" :scope='{
        active:0,
        dirs: [
          { title: ":text", text: "Set text content.", example: `&lt;span :text="user.name"&gt;Guest&lt;/span&gt;` },
          { title: ":class", text: "Set className.", example: `&lt;div :class="[&apos;foo&apos;, bar && &apos;bar&apos;, { baz }]"&gt;&lt;/div&gt;` },
          { title: ":style", text: "Set style.", example: `&lt;div :style="{bar: &apos;baz&apos;, &apos;--qux&apos;: &apos;quv&apos;}"&gt;&lt;/div&gt;` },
          { title: ":value", text: "Bind input, textarea or select value.", example: `&lt;input :value="value" /&gt;` },
          { title: ":[attr], :", text: "Set any attribute(s).", example: `&lt;input :="{ id: name, name, type: &apos;text&apos;, value, ...props }" /&gt;` },
          { title: ":if, :else", text: "Control flow.", example: `&lt;span :if="foo"&gt;foo&lt;/span&gt;\n&lt;span :else :if="bar"&gt;bar&lt;/span&gt;\n&lt;span :else&gt;baz&lt;/span&gt;` },
          { title: ":each", text: "Multiply content.", example: `&lt;li :each="item, idx? in items" :text="item" /&gt;` },
          { title: ":scope", text: "Define state container max-w-6xl mx-auto for a subtree.", example: `&lt;x :scope="{foo: &apos;foo&apos;}"&gt;\n\t&lt;y :text="foo"&gt;&lt;/y&gt;\n&lt;/x&gt;` },
          { title: ":fx", text: "Run effect.", example: `&lt;div :fx="a.value ? foo() : bar()" /&gt;` },
          { title: ":ref", text: "Expose an element in scope or get ref to the element.", example: `&lt;div :ref="card" :fx="handle(card)"&gt;&lt;/div&gt;` },
          { title: ":on<event>", text: "Add event listener.", example: `&lt;button :onclick="count++"&gt;Up&lt;/button&gt;` }
        ],
        mods: [
          { title: ".debounce-[ms|tick|frame|idle]", text: "Defer callback by ms, next tick/animation frame, or until idle. Defaults to 250ms.", example: `&lt;input :oninput.debounce-200="update(event)" /&gt;` },
          { title: ".throttle-[ms|tick|frame]", text: "Limit callback rate to interval in ms, tick or animation framerate. By default 250ms.", example: `&lt;div :text.throttle-100="text.length"&gt;&lt;/div&gt;` },
          { title: ".once", text: "Call only once.", example: `&lt;button :onclick.once="loadMoreData()"&gt;Start&lt;/button&gt;` },
          { title: ".window, .document, .parent, .outside, .self", text: "Specify event target.", example: `&lt;div :onclick.outside="closeMenu()"&gt;Dropdown&lt;/div&gt;` },
          { title: ".passive, .capture", text: "Event listener options.", example: `&lt;div :onscroll.passive="pos = e.scrollTop"&gt;&lt;/div&gt;` },
          { title: ".prevent, .stop, .stop-immediate", text: "Prevent default or stop (immediate) propagation.", example: `&lt;a :onclick.prevent="navigate(&apos;/page&apos;)" href="/default"&gt;Go&lt;/a&gt;` },
          { title: ".[key]", text: "Filter event by event.key or combination (.ctrl, .shift, .alt, .enter, .esc, .arrow, .digit, .letter, .char, etc.).", example: `&lt;div :onkeydown.arrow="navigate(event.key)"&gt;&lt;/div&gt;` }
        ]
      }'>
        <header class="md:grid grid-cols-6 gap-8 items-baseline">
          <h2 class="text-3xl text-blue-700 font-bold col-span-2 mb-2">Reference</h2>

          <nav class="flex flex-row gap-1">
            <h4 :onclick="active=0" class="relative cursor-pointer md:text-lg font-bold text-blue-700 py-4 px-6 [&.active]:bg-white" :class="{active:active==0}">Directives</h4>
            <h4 :onclick="active=1" class="relative cursor-pointer md:text-lg font-bold text-blue-700 py-4 px-6 [&.active]:bg-white" :class="{active:active==1}">Modifiers</h4>
          </nav>
        </header>

        <dl :if="active==0" class="flex flex-col">
          <div class="grid-6 md:grid grid-cols-6 gap-8 hover:bg-white px-6 -mx-6" :each="item in dirs">
            <div class="col-span-2 py-2">
              <dt>
                <h5 class="text-lg text-blue-700" :text="item.title">:text</h5>
              </dt>
              <dd>
                <p :text="item.text">Set text content.</p>
              </dd>
            </div>
            <pre class="p-4 md:p-6 col-span-4"><code :text="item.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </dl>

        <div :if="active==1">
          <div class="grid-6 md:grid grid-cols-6 gap-8 hover:bg-white px-6 -mx-6" :each="item in mods">
            <div class="col-span-2 py-2">
              <dt>
                <h5 class="text-lg text-blue-700" :text="item.title">:text</h5>
              </dt>
              <dd>
                <p :text="item.text">Set text content.</p>
              </dd>
            </div>
            <pre class="p-4 md:p-6 col-span-4"><code :text="item.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </div>
      </section>

      <!-- <section class="my-16">
        <h2>Examples</h2>
        <ul>
          <li><code>:if</code> — toggle element visibility</li>
          <li><code>:for</code> — list rendering</li>
          <li><code>:class</code> — conditional classes</li>
          <li><code>:style</code> — dynamic inline styles</li>
          <li><code>:html</code> — render raw HTML</li>
        </ul>
      </section> -->

      <section class="container max-w-6xl mx-auto my-16 md:grid grid-cols-6" >
        <h2 class="text-3xl text-blue-700 font-bold col-span-2">FAQ</h2>
        <div class="col-span-4">
          <h4 class="text-xl text-blue-700 font-bold mt-4">Why another framework?</h4>
          <p class="my-1"> There's no full satisfaction with other solutions. </p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Why sprae?</h4>
          <p class="my-1"> It hydrates DOM tree non-invasively.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Why not Alpine.js?</h4>
          <p class="my-1"> Sprae has less syntax footprint, less magic, more control. It is lighter and easier to integrate.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Why not vanilla JS?</h4>
          <p class="my-1"> `querySelector` or `createElement` is wrong mantra.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Why not Next/React?</h4>
          <p class="my-1"> It is not organic. But sprae works well with <a href="https://github.com/dy/sprae?tab=readme-ov-file#jsx">JSX</a>.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Who cares for progressive enhancement / graceful degradation?</h4>
          <p class="my-1"> If you need fast, fail-proof, accessible, SEO-optimized web.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is it just a toy?</h4>
          <p class="my-1"> It is used in production, but it's indeed fun to play with and comes with sandbox.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Does it scale to complex state?</h4>
          <p class="my-1"> As far as you can handle it and CPU allows. It has good performance.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Are signals overhyped?</h4>
          <p class="my-1"> Signals are <a href="https://github.com/tc39/proposal-signals">the standard</a> for reactivity.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is no build step outdated?</h4>
          <p class="my-1"> Sprae saves hassle configuring it, but it can be part of build pipeline if you want. </p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is new Function unsafe?</h4>
          <p class="my-1"> If your HTML comes from strangers or there's CSP, use <a href="https://github.com/dy/sprae?tab=readme-ov-file#evaluator">safe evaluator</a>.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Components support?</h4>
          <p class="my-1"> Awaiting the <a href="https://github.com/WICG/webcomponents/blob/gh-pages/proposals/Declarative-Custom-Elements-Strawman.md">DCE proposal</a>, meanwhile we have to <a href="https://tailwindcss.com/docs/styling-with-utility-classes#managing-duplication">manage duplication</a>.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is there ecosystem?</h4>
          <p class="my-1"> Not yet.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">TypeScript support?</h4>
          <p class="my-1"> If you need it please <a href="https://github.com/dy/sprae/issues/new">leave a request</a>.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is it stable?</h4>
          <p class="my-1"> Core is stable since v10.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">How old is it?</h4>
          <p class="my-1"> <span :text="new Date().getFullYear() - 2022">enough</span> years old (<a href="https://github.com/dy/sprae/commit/ee7e372fb372bde5bdd7bfd3524cdaa815793663">first commit</a> Nov 7, 2022).</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Will it be maintained long-term? </h4>
          <p class="my-1"> 12 versions, 1.5k+ commits and future plans.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">What’s future plan?</h4>
          <p class="my-1"> Plugins, components, integration cases, generators.</p>
          <h4 class="text-xl text-blue-700 font-bold mt-4">Is it backed by a company?</h4>
          <p class="my-1"> No. Just regular devs. You can <a href="https://github.com/sponsors/dy">support it</a>!</p>
        </div>
      </section>

      <section class="container max-w-6xl mx-auto my-16" hidden>
        <h2>Comparison</h2>
        <table>
          <tr>
            <th>Framework</th>
            <th>Size</th>
            <th>Build Step</th>
            <th>Philosophy</th>
          </tr>
          <tr>
            <td>Sprae</td>
            <td>~2KB</td>
            <td>No</td>
            <td>Minimal, declarative, reactive</td>
          </tr>
          <tr>
            <td>Alpine.js</td>
            <td>~10KB</td>
            <td>No</td>
            <td>Rich features, declarative</td>
          </tr>
          <tr>
            <td>Petite-Vue</td>
            <td>~6KB</td>
            <td>No</td>
            <td>Subset of Vue features</td>
          </tr>
          <tr>
            <td>Lucia</td>
            <td>~3KB</td>
            <td>No</td>
            <td>Small reactive core</td>
          </tr>
        </table>
      </section>
    </main>

    <footer class="">
      <p align="center"><a href="https://github.com/krsnzd/license/">ॐ</a></p>
    </footer>
  </body>
</html>
