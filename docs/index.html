<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprae</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sprae@12.x.x/dist/sprae.umd.js" defer start></script>
  </head>

  <body :scope="x=0, y=0" :onmousemove.document="e => { x = e.clientX; y = e.clientY; }" :style="{'--x': x + 'px', '--y': y + 'px'}">
    <nav class="container grid-6 max-sm:block gap-2">
      <div class="col-start-4 col-span-2 flex-row gap-3 hyperlegible bold">
        <a href="./api.html">docs</a>
        <a href="./examples.html">drops</a>
        <a href="./changelog.html">play</a>
        <a href="./faq.html">faq</a>
        <a href="https://github.com/dy/sprae">⌥  v<span :text="window.sprae?.version || '12.1.0'"></span></a>
      </div>
    </nav>

    <header class="my-2">
      <div class="container grid-6 max-sm:block gap-2">
        <h1 class="col-span-3 text-right max-sm:text-left my-2 mt-6">spræ</h1>
      </div>
      <div class="container grid-6 max-sm:block gap-2">
        <div class="col-start-4 col-span-3">
          <h2 class="my-1">
            Hydration for DOM tree
          </h2>
          <h5 class="my-1">Easy progressive enhancement for HTML / JSX.<br />
            Add UI interactions with inline reactive attributes.</h5>
        </div>
      </div>
    </header>

    <main>
      <section class="container grid-6 max-sm:block my-4" :scope>
        <pre class="col-span-3"><code :ref="code">&lt;div :scope="count=0"&gt;
  &lt;button :onclick="count++"&gt;+&lt;/button&gt;
  &lt;button :onclick="count--"&gt;–&lt;/button&gt;
  Count: &lt;span :text="count"&gt;&lt;/span&gt;
&lt;/div&gt;</code></pre>
        <div class="col-span-3 p-3 bg-graph-paper h-full" :ref="el => el.innerHTML = code.textContent">
        </div>
      </section>

      <section class="container my-4">
        <h2>Principles</h2>
        <ul>
          <li>Minimal. Uncluttered. Tiny API.</li>
          <li>Open state. Signals reactivity. Configurable.</li>
          <li>0 deps. No build step. JSX, CSP support.</li>
        </ul>
      </section>

      <section class="container my-4" :scope='{
        active:0,
        dirs: [
          { title: ":text", text: "Set text content.", example: `&lt;span :text="user.name"&gt;Guest&lt;/span&gt;` },
          { title: ":class", text: "Set className.", example: `&lt;div :class="[&apos;foo&apos;, bar && &apos;bar&apos;, { baz }]"&gt;&lt;/div&gt;` },
          { title: ":style", text: "Set style.", example: `&lt;div :style="{bar: &apos;baz&apos;, &apos;--qux&apos;: &apos;quv&apos;}"&gt;&lt;/div&gt;` },
          { title: ":value", text: "Bind input, textarea or select value.", example: `&lt;input :value="value" /&gt;` },
          { title: ":<attr>, :", text: "Set any attribute(s).", example: `&lt;input :="{ id: name, name, type: &apos;text&apos;, value, ...props }" /&gt;` },
          { title: ":if, :else", text: "Control flow.", example: `&lt;span :if="foo"&gt;foo&lt;/span&gt; &lt;span :else :if="bar"&gt;bar&lt;/span&gt; &lt;span :else&gt;baz&lt;/span&gt;` },
          { title: ":each", text: "Multiply content.", example: `&lt;li :each="item, idx? in items" :text="item" /&gt;` },
          { title: ":scope", text: "Define state container for a subtree.", example: `&lt;x :scope="{foo: &apos;foo&apos;}"&gt;&lt;y :text="foo"&gt;&lt;/y&gt;&lt;/x&gt;` },
          { title: ":fx", text: "Run effect.", example: `&lt;div :fx="a.value ? foo() : bar()" /&gt;` },
          { title: ":ref", text: "Expose an element in scope or get ref to the element.", example: `&lt;div :ref="card" :fx="handle(card)"&gt;&lt;/div&gt;` },
          { title: ":on<event>", text: "Add event listener.", example: `&lt;button :onclick="count++"&gt;Up&lt;/button&gt;` }
        ],
        mods: [
          { title: ".debounce-<ms|tick|frame|idle>?", text: "Defer callback by ms, next tick/animation frame, or until idle. Defaults to 250ms.", example: `&lt;input :oninput.debounce-200="update(event)" /&gt;` },
          { title: ".throttle-<ms|tick|frame>?", text: "Limit callback rate to interval in ms, tick or animation framerate. By default 250ms.", example: `&lt;div :text.throttle-100="text.length"&gt;&lt;/div&gt;` },
          { title: ".once", text: "Call only once.", example: `&lt;button :onclick.once="loadMoreData()"&gt;Start&lt;/button&gt;` },
          { title: ".window, .document, .parent, .outside, .self", text: "Specify event target.", example: `&lt;div :onclick.outside="closeMenu()"&gt;Dropdown&lt;/div&gt;` },
          { title: ".passive, .capture", text: "Event listener options.", example: `&lt;div :onscroll.passive="pos = e.scrollTop"&gt;&lt;/div&gt;` },
          { title: ".prevent, .stop, .stop-immediate", text: "Prevent default or stop (immediate) propagation.", example: `&lt;a :onclick.prevent="navigate(&apos;/page&apos;)" href="/default"&gt;Go&lt;/a&gt;` },
          { title: ".<key>-<*>", text: "Filter event by event.key or combination (.ctrl, .shift, .alt, .enter, .esc, .arrow, .digit, .letter, .char, etc.).", example: `&lt;div :onkeydown.arrow="navigate(event.key)"&gt;&lt;/div&gt;` }
        ]
      }'>
        <h2>Reference</h2>

        <nav class="flex-row gap-1 my-3">
          <h4 :onclick="active=0" class="tab" :class="{active:active==0}">Directives</h4>
          <h4 :onclick="active=1" class="tab" :class="{active:active==1}">Modifiers</h4>
        </nav>

        <dl :if="active==0" class="flex-col">
          <div class="grid-6 max-sm:block gap-2" :each="dir in dirs">
            <div class="col-span-2 pt-2">
              <dt>
                <h4 :text="dir.title">:text</h4>
              </dt>
              <dd>
                <p :text="dir.text">Set text content.</p>
              </dd>
            </div>
            <pre class="col-span-4"><code :text="dir.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </dl>

        <div :if="active==1">
          <div class="grid-6 max-sm:block gap-2" :each="mod in mods">
            <div class="col-span-2 pt-2">
              <dt>
                <h4 :text="mod.title">:text</h4>
              </dt>
              <dd>
                <p :text="mod.text">Set text content.</p>
              </dd>
            </div>
            <pre class="col-span-4"><code :text="mod.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </div>
      </section>

      <!-- <section class="my-4">
        <h2>Examples</h2>
        <ul>
          <li><code>:if</code> — toggle element visibility</li>
          <li><code>:for</code> — list rendering</li>
          <li><code>:class</code> — conditional classes</li>
          <li><code>:style</code> — dynamic inline styles</li>
          <li><code>:html</code> — render raw HTML</li>
        </ul>
      </section> -->

      <section class="container my-4">
        <h2 class="my-2">FAQ</h2>
        <p class="my-1"><strong>Why another framework?</strong><br> To make the wheel rounder. A youthful dream.</p>
        <p class="my-1"><strong>Why Sprae?</strong><br>Because it hydrates your HTML tree.</p>
        <p class="my-1"><strong>Why not Alpine.js?</strong><br> Less climbing, less gear, less footprints.</p>
        <p class="my-1"><strong>Why not vanilla JS?</strong><br> Because `querySelector` is wrong mantra.</p>
        <p class="my-1"><strong>Why not Next/React?</strong><br> Because not every button needs a megabyte of runtime.</p>
        <p class="my-1"><strong>Who cares about progressive enhancement / graceful degradation?</strong><br> Anyone looking for fast, fail-proof, accessible, SEO-optimized web sites.</p>
        <p class="my-1"><strong>Is it just a toy?</strong><br> If production counts as a toy.</p>
        <p class="my-1"><strong>Does it scale to complex state?</strong><br> Yes, if you or your CPU can handle it.</p>
        <p class="my-1"><strong>Are signals overhyped?</strong><br> Preact-signals are the crown of reactivity, nothing better invented.</p>
        <p class="my-1"><strong>Is no build step outdated?</strong><br> Your 12-min build pipeline is outdated.</p>
        <p class="my-1"><strong>Is new Function unsafe?</strong><br> Yes, if your HTML comes from strangers. In such case use CSP.</p>
        <p class="my-1"><strong>Components support?</strong><br> Already there — called HTML tags.</p>
        <p class="my-1"><strong>Why not vibecode?</strong><br> Vibe-sprae! What do you think we're doing?</p>
        <p class="my-1"><strong>Is there ecosystem?</strong><br> Yes. Since 1991.</p>
        <p class="my-1"><strong>TypeScript support?</strong><br> Soon™.</p>
        <p class="my-1"><strong>Is it stable?</strong><br> Directives, store, signals, config – yes. Modifiers, extensions – not yet.</p>
        <p class="my-1"><strong>How old is it?</strong><br> <span :text="new Date().getFullYear() - 2022">enough</span> years old (<a href="https://github.com/dy/sprae/commit/ee7e372fb372bde5bdd7bfd3524cdaa815793663">first commit</a> Nov 7, 2022).</p>
        <p class="my-1"><strong>Will spræ be maintained long-term? </strong><br> 12 versions, 1.5k commits, 3 years of development and future plans. As you see – no plans</p>
        <p class="my-1"><strong>What’s future plan?</strong><br> Plugins, components, integration cases, generators.</p>
        <p class="my-1"><strong>Is it backed by a company?</strong><br> No. Just regular devs. You can join!</p>
      </section>

      <section class="container my-4" hidden>
        <h2>Comparison</h2>
        <table>
          <tr>
            <th>Framework</th>
            <th>Size</th>
            <th>Build Step</th>
            <th>Philosophy</th>
          </tr>
          <tr>
            <td>Sprae</td>
            <td>~2KB</td>
            <td>No</td>
            <td>Minimal, declarative, reactive</td>
          </tr>
          <tr>
            <td>Alpine.js</td>
            <td>~10KB</td>
            <td>No</td>
            <td>Rich features, declarative</td>
          </tr>
          <tr>
            <td>Petite-Vue</td>
            <td>~6KB</td>
            <td>No</td>
            <td>Subset of Vue features</td>
          </tr>
          <tr>
            <td>Lucia</td>
            <td>~3KB</td>
            <td>No</td>
            <td>Small reactive core</td>
          </tr>
        </table>
      </section>
    </main>

    <footer>
      <p align="center"><a href="https://github.com/krsnzd/license/">ॐ</a></p>
    </footer>
  </body>
</html>
