(function (g, f) {if ("object" == typeof exports && "object" == typeof module) {module.exports = f();} else if ("function" == typeof define && define.amd) {define("sprae", [], f);} else if ("object" == typeof exports) {exports["sprae"] = f();} else {g["sprae"] = f();}}(typeof self !== 'undefined' ? self : typeof globalThis !== 'undefined' ? globalThis : this, () => {var exports = {};var module = { exports };
var Y=Object.defineProperty;var Qe=Object.getOwnPropertyDescriptor;var Ue=Object.getOwnPropertyNames;var Ye=Object.prototype.hasOwnProperty;var p=(e,r)=>()=>(e&&(r=e(e=0)),r);var se=(e,r)=>{for(var t in r)Y(e,t,{get:r[t],enumerable:!0})},ve=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Ue(r))!Ye.call(e,n)&&n!==t&&Y(e,n,{get:()=>r[n],enumerable:!(o=Qe(r,n))||o.enumerable});return e};var et=e=>ve(Y({},"__esModule",{value:!0}),e);var E,f,Z,F,z,v,b,W,J,M,q,B,C,ee,tt,ce,le,g,ae,rt,G,x,k,ue,_,te,P,fe,d,m=p(()=>{H();H();E=Symbol.dispose||(Symbol.dispose=Symbol("dispose")),f=Symbol("state"),Z=Symbol("on"),F=Symbol("off"),z=Symbol("init"),v=":",M=e=>e(),q=M,B={},C={},ee=null,tt=(e=document.body,r)=>{if(e[f])return Object.assign(e[f],r);r=K(r||{});let t=[],o=[];e[Z]=()=>!o&&(o=t.map(i=>i())),e[F]=()=>(o?.map(i=>i()),o=null),e[E]||(e[E]=()=>(e[F](),e[F]=e[Z]=e[E]=e[z]=e[f]=null));let n=e[z]=i=>{let s=i.attributes,a;if(s)for(let c=0;c<s.length;){let{name:l,value:y}=s[c];if(l.startsWith(v)){if(i.removeAttribute(l),ee=l,t.push(a=ce(i,l.slice(v.length),y,r)),o.push(a()),f in i)return}else c++}for(let c of[...i.childNodes])c.nodeType==1&&n(c)};return n(e),e[f]===void 0&&(e[f]=r),r},g=e=>{let r=ae[e=e.trim()];if(r)return r;let t=e||"undefined";/^(if|let|const)\b/.test(t)||rt(t)||(t=`return ${t}`),/\bawait\s/.test(t)&&(t=`return (async()=>{ ${t} })()`);try{r=le(t)}catch(o){console.error(`\u2234 ${o}

${ee}="${e}"`)}return ae[e]=function(o,n,i){try{let s=r?.call(this,o);return n?s?.then?(s.then(a=>i=n(a)),()=>typeof i=="function"&&i()):n(s):s}catch(s){console.error(`\u2234 ${s}

${ee}="${e}"`)}}},ae={},rt=e=>{for(let r=0,t=0;t<e.length;t++)if(e[t]=="{")r++;else if(e[t]=="}")r--;else if(e[t]==";"&&!r)return!0;return!1},G=e=>(e.compile&&(le=e.compile),e.prefix&&(v=e.prefix),e.signal&&(b=e.signal),e.effect&&(W=e.effect),e.computed&&(J=e.computed),e.batch&&(M=e.batch),e.untracked&&(q=e.untracked),e.dir&&(ce=e.dir)),x=(e,r)=>{for(;r.length;){let[t,...o]=r.pop().split("-"),n=C[t],i;if(n&&(i=n(e,...o))!==e){for(let s in e)i[s]??(i[s]=e[s]);e=i}}return e},k=e=>{if(!e.nodeType)return e;let r=e.content.cloneNode(!0),t=[...e.attributes],o=document.createTextNode(""),n=(r.append(o),[...r.childNodes]);return{childNodes:n,content:r,remove:()=>r.append(...n),replaceWith(i){i!==o&&(o.before(i),r.append(...n))},attributes:t,removeAttribute(i){t.splice(t.findIndex(s=>s.name===i),1)}}},ue=e=>e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(r,t)=>(t?"-":"")+r.toLowerCase()),_=(e,r,t)=>t==null||t===!1?e.removeAttribute(r):e.setAttribute(r,t===!0?"":t),te=(e,r=[])=>e?typeof e=="string"?e:(Array.isArray(e)?e.map(te):Object.entries(e).reduce((t,[o,n])=>n?[...t,o]:t,[])).join(" "):"",P=(e,r=queueMicrotask)=>{let t=0,o,n=i=>{o=i,t++||(e(o),r((s=t>1)=>(t=0,s&&n(o))))};return n},fe=(e,r=queueMicrotask,t=0)=>(o,n=++t)=>r(()=>n==t&&e(o)),d=tt});var S,N,oe,re,L,ot,Q,de,K,H=p(()=>{m();S=Symbol("signals"),N=Symbol("change"),oe=Symbol("set"),re=!0,L=(e,r)=>{if(!e||e[Symbol.toStringTag]||e[S])return e;if(e.constructor!==Object)return Array.isArray(e)?ot(e):e;let t=Object.keys(e).length,o={},n=new Proxy(Object.assign(o,{[N]:b(t),[S]:o}),{get:(s,a)=>a in o?o[a]?o[a].valueOf():o[a]:r?r[a]:typeof globalThis[a]=="function"&&!globalThis[a].prototype?globalThis[a].bind(globalThis):globalThis[a],set:(s,a,c,l)=>a in o?(de(o,a,c),1):(re=!1,r&&a in r?r[a]=c:(Q(o,a,c),o[N].value=++t),re=!0,1),deleteProperty:(s,a)=>(a in o&&(a[0]!="_"&&o[a]?.[Symbol.dispose]?.(),delete o[a],o[N].value=--t),1),ownKeys:()=>(o[N].value,Reflect.ownKeys(o)),has:(s,a)=>a in o?!0:r?a in r:re}),i=Object.getOwnPropertyDescriptors(e);for(let s in e)i[s]?.get?(o[s]=J(i[s].get.bind(n)))[oe]=i[s].set?.bind(n):Q(o,s,e[s]);return n},ot=(e,r=globalThis)=>{let t=Array(e.length).fill(null),o=!1,n=a=>function(){return o=!0,a.apply(this,arguments)},i=b(e.length),s=new Proxy(Object.assign(t,{[N]:i,[S]:t,push:n(t.push),pop:n(t.pop),shift:n(t.shift),unshift:n(t.unshift),splice:n(t.splice)}),{get(a,c){return c==="length"?o?(o=!1,t.length):i.value:typeof c=="symbol"||isNaN(c)?t[c]?.valueOf()??r[c]:(t[c]??(t[c]=b(L(e[c])))).valueOf()},set(a,c,l){if(c==="length"){for(let y=l;y<t.length;y++)delete s[y];i.value=t.length=l}else c>=t.length?(Q(t,c,l),s.length=+c+1):t[c]?de(t,c,l):Q(t,c,l);return 1},deleteProperty:(a,c)=>(t[c]?.[Symbol.dispose]?.(),delete t[c],1)});return s},Q=(e,r,t)=>e[r]=r[0]=="_"||t?.peek?t:b(L(t)),de=(e,r,t,o,n)=>r[0]==="_"?e[r]=t:t!==(n=(o=e[r]).peek())&&(o[oe]?o[oe](t):Array.isArray(t)&&Array.isArray(n)?N in n?q(()=>M(()=>{for(let i=0;i<t.length;i++)n[i]=t[i];n.length=t.length})):o.value=t:o.value=L(t)),K=L});var ne={};se(ne,{batch:()=>it,computed:()=>nt,effect:()=>ye,signal:()=>me,untracked:()=>st});var D,pe,I,me,ye,nt,it,st,ge=p(()=>{pe=0,me=(e,r,t=new Set,o=()=>r.value)=>r={get value(){return D?.deps.add(t.add(D)),e},set value(n){if(n!==e){e=n;for(let i of t)I?I.add(i):i()}},peek(){return e},toJSON:o,toString:o,valueOf:o},ye=(e,r,t,o)=>(t=n=>{let i=r;if(r=null,i?.call?.(),n=D,D=t,pe++>10)throw"Cycle detected";try{r=e()}finally{D=n,pe--}},t.fn=e,o=t.deps=new Set,t(),n=>{r?.call?.();for(n of o)n.delete(t);o.clear()}),nt=(e,r=me(),t,o,n=()=>t.value)=>t={get value(){return o||(o=ye(()=>r.value=e())),r.value},peek:r.peek,toJSON:n,toString:n,valueOf:n},it=(e,r=!I,t)=>{I??(I=new Set);try{e()}finally{if(r){[I,t]=[null,I];for(let o of t)o()}}},st=(e,r,t)=>(r=D,D=null,t=e(),D=r,t)});var he,be=p(()=>{m();he=(e,r)=>{var i;let t,o,n;return e._holder?d(o=e,r):(e[i=f]??(e[i]=null),o=e.content?k(e):e,e.replaceWith(t=document.createTextNode("")),o._holder=t._holder=t,t._clauses=[o._clause=[o,!1]],t.update=P(()=>{let s=t._clauses.find(([,a])=>a);s!=n&&(n?.[0].remove(),n?.[0][F]?.(),(n=s)&&(t.before(n[0].content||n[0]),n[0][f]?n[0][Z]?.():(delete n[0][f],d(n[0],r))))})),s=>{o._clause[1]=s,o._holder.update()}}});var xe,_e=p(()=>{m();xe=e=>{let r,t=e;for(r=e.content?k(e):e;t&&!(r._holder=t._holder);)t=t.previousSibling;return e.remove(),e[f]=null,r._holder._clauses.push(r._clause=[r,!0]),r._holder.update}});var Se,Ae=p(()=>{m();Se=e=>(e.content&&e.replaceWith(e=k(e).childNodes[0]),r=>(r=typeof r=="function"?r(e.textContent):r,e.textContent=r??""))});var Oe,we=p(()=>{m();Oe=(e,r,t,o)=>{let n=new Set,i;return o.includes(".")&&(e=x({target:e},o.split(".").slice(1)).target??e),s=>{i=new Set,s&&te(typeof s=="function"?s(e.className):s).split(" ").map(a=>a&&i.add(a));for(let a of n)i.has(a)?i.delete(a):e.classList.remove(a);for(let a of n=i)e.classList.add(a)}}});var Ne,je=p(()=>{m();Ne=(e,r,t,o)=>{let n;return o.includes(".")&&(e=x({target:e},o.split(".").slice(1)).target??e),i=>{if(n||(n=e.getAttribute("style")),i=typeof i=="function"?i(e.style):i,typeof i=="string")_(e,"style",n+"; "+i);else{n&&_(e,"style",n);for(let s in i)s[0]=="-"?e.style.setProperty(s,i[s]):s[0]>"A"&&(e.style[s]=i[s])}}}});var Te,ke=p(()=>{Te=()=>e=>typeof e=="function"&&e()});var at,De,$e=p(()=>{m();at=(e,r=g(`${e}=__`))=>(t,o)=>{t.__=o,r(t),delete t.__},De=(e,r,t)=>{try{let o=at(t),n=e.type==="checkbox"?()=>o(r,e.checked):e.type==="select-multiple"?()=>o(r,[...e.selectedOptions].map(i=>i.value)):()=>o(r,e.selectedIndex<0?null:isNaN(e.valueAsNumber)?e.value:e.valueAsNumber);e.oninput=e.onchange=n,e.type?.startsWith("select")&&(new MutationObserver(n).observe(e,{childList:!0,subtree:!0,attributes:!0}),d(e,r)),g(t)(r)??n()}catch{}return e.type==="text"||e.type===""||e.tagName==="TEXTAREA"?(o,n,i)=>(n=e.selectionStart,i=e.selectionEnd,e.setAttribute("value",e.value=o??""),n&&e.setSelectionRange(n,i)):e.type==="checkbox"?o=>(e.checked=o,_(e,"checked",o)):e.type==="radio"?o=>e.value===o&&(e.checked=o,_(e,"checked",o)):e.type==="select-one"?o=>{for(let n of e.options)n.value==o?n.setAttribute("selected",""):n.removeAttribute("selected");e.value=o}:e.type==="select-multiple"?o=>{for(let n of e.options)n.removeAttribute("selected");for(let n of o)e.querySelector(`[value="${n}"]`).setAttribute("selected","")}:o=>e.value=o}});var Ee,qe=p(()=>{m();Ee=(e,r,t)=>{let o=g(t)(r);if(typeof o=="function")return{[Symbol.dispose]:o(e)};Object.defineProperty(r,t,{value:e,configurable:!0})}});var Ce,Pe=p(()=>{m();Ce=(e,r)=>{let t=e[f]=L({},r),o=!1;return n=>{if(n=typeof n=="function"?n(t):n,n!==t)for(let i in n){let s=typeof n[i]=="function"?n[i].bind(t):n[i];i in t[S]?t[i]=s:t[S][i]=i[0]=="_"||s?.peek?s:b(L(s))}return!o&&(o=!0,delete e[f],q(()=>d(e,t)))}}});var Le,We=p(()=>{m();Le=(e,r,t)=>{let[o,n]=t.split(/\bin|of\b/),[i,s="$"]=o.trim().replace(/\(|\)/g,"").split(/\s*,\s*/),a=document.createTextNode(""),c,l,y,j=0,A=P(()=>{var T,h;let u=0,$=y,O=$.length;if(c&&!c[N]){for(let w of c[S]||[])w[Symbol.dispose]();c=null,j=0}if(O<j)c.length=O;else{if(!c)c=$;else for(;u<j;)c[u]=$[u++];for(;u<O;u++){c[u]=$[u];let w=u,Ge=Object.create(r,{[i]:{get:()=>c[w]},[s]:{value:l?l[w]:w}}),V=e.content?k(e):e.cloneNode(!0);a.before(V.content||V),d(V,Ge);let He=((h=c[T=S]||(c[T]=[]))[u]||(h[u]={}))[Symbol.dispose];c[S][u][Symbol.dispose]=()=>{He?.(),V[Symbol.dispose]?.(),V.remove()}}}j=O});return e.replaceWith(a),e[f]=null,Object.assign(u=>(l=null,typeof u=="number"?y=Array.from({length:u},($,O)=>O+1):u?.constructor===Object?(l=Object.keys(u),y=Object.values(u)):y=u||[],W(()=>{y[N]?.value,A()})),{eval:g(n)})}});var Me,Ke=p(()=>{m();Me=(e,r,t,o)=>n=>_(e,o,typeof n=="function"?n(e.getAttribute(o)):n)});var Ie,Re=p(()=>{m();Ie=e=>r=>{for(let t in r)_(e,ue(t),r[t])}});var Ve,Fe=p(()=>{m();Ve=(e,r,t,o)=>{let[n,...i]=o.slice(2).split("."),s=g(t).bind(e),a=x(Object.assign(c=>s(r,l=>typeof l=="function"?l(c):l),{target:e}),i);return a.target.addEventListener(n,a,a),{[Symbol.dispose](){a.target.removeEventListener(n,a)}}}});var Je,Be=p(()=>{m();Je=(e,r,t,o)=>{let n,i,s=o.split("..").map((a,c,{length:l})=>a.split(":").reduce((y,j)=>{let[A,...u]=j.slice(2).split("."),$=g(t).bind(e),O=(h,w)=>n=typeof h=="function"?h(w):h,T=x(Object.assign(h=>(c?O(n,h):$(r,w=>O(w,h)),i(),i=s[(c+1)%l]()),{target:e}),u);return h=>(h=y?.(),T.target.addEventListener(A,T,T),()=>(h?.(),T.target.removeEventListener(A,T)))},null));return i=s[0](),{[Symbol.dispose](){i?.()}}}});var Xe={};se(Xe,{batch:()=>M,computed:()=>J,default:()=>ut,effect:()=>W,signal:()=>b,sprae:()=>d,start:()=>lt,store:()=>K,untracked:()=>q,use:()=>G});var ct,U,lt,ut,Ze=p(()=>{H();m();ge();m();be();_e();Ae();we();je();ke();$e();qe();Pe();We();Ke();Re();Fe();Be();Object.assign(B,{_:(e,r,t,o)=>(o.startsWith("on")?Ve:Me)(e,r,t,o),"":Ie,class:Oe,text:Se,style:Ne,fx:Te,value:De,ref:Ee,scope:Ce,if:he,else:xe,each:Le});ct=(e,r,t,o)=>{let[n,...i]=r.split("."),s=B[n]||B._;return()=>{let a=s(e,o,t,r);if(!a?.call)return a?.[E];let c=x(Object.assign(P(()=>l.value++),{target:e}),i),l=b(0),y=0,j=a.eval??g(t).bind(e),A,u=()=>(typeof A=="function"&&A(),A=null);return o=e[f]??o,W(()=>(l.value==y?c():(y=l.value,A=j(o,a)),u))}};Object.assign(C,{debounce:(e,r)=>fe(e,(r||(r=0),r?r==="raf"?requestAnimationFrame:t=>setTimeout(t,r):void 0)),throttle:(e,r)=>P(e,(r||(r=0),r?r==="raf"?requestAnimationFrame:t=>setTimeout(t,r):void 0)),delay:(e,r)=>r?t=>setTimeout(()=>e(t),r):t=>queueMicrotask(()=>e(t)),tick:e=>(console.warn("Deprecated"),r=>queueMicrotask(()=>e(r))),raf:e=>(console.warn("Deprecated"),r=>requestAnimationFrame(()=>e(r))),once:(e,r,t)=>(t=o=>!r&&(r=1,e(o)),t.once=!0,t),window:e=>(e.target=e.target.ownerDocument.defaultView,e),document:e=>(e.target=e.target.ownerDocument,e),root:e=>(e.target=e.target.ownerDocument.documentElement,e),body:e=>(e.target=e.target.ownerDocument.body,e),parent:e=>(e.target=e.target.parentNode,e),self:e=>r=>r.target===e.target&&e(r),away:e=>Object.assign(r=>!e.target.contains(r.target)&&r.target.isConnected&&e(r),{target:e.target.ownerDocument}),prevent:e=>r=>(r?.preventDefault(),e(r)),stop:(e,r)=>t=>(r?.[0]==="i"?t?.stopImmediatePropagation():t?.stopPropagation(),e(t)),immediate:e=>(console.warn("Deprecated"),r=>(r?.stopImmediatePropagation(),e(r))),passive:e=>(e.passive=!0,e),capture:e=>(e.capture=!0,e)});C.outside=C.away;U={ctrl:e=>e.ctrlKey||e.key==="Control"||e.key==="Ctrl",shift:e=>e.shiftKey||e.key==="Shift",alt:e=>e.altKey||e.key==="Alt",meta:e=>e.metaKey||e.key==="Meta",cmd:e=>e.metaKey||e.key==="Command",arrow:e=>e.key.startsWith("Arrow"),enter:e=>e.key==="Enter",esc:e=>e.key.startsWith("Esc"),tab:e=>e.key==="Tab",space:e=>e.key==="\xA0"||e.key==="Space"||e.key===" ",delete:e=>e.key==="Delete"||e.key==="Backspace",digit:e=>/^\d$/.test(e.key),letter:e=>/^\p{L}$/gu.test(e.key),char:e=>/^\S$/.test(e.key)};for(let e in U)C[e]=(r,t,o)=>n=>U[e](n)&&(!t||U[t]?.(n))&&(!o||U[o]?.(n))&&r(n);G({compile:e=>d.constructor(`with(arguments[0]){${e}}`),dir:(e,r,t,o)=>r.includes("..")?()=>Je(e,o,t,r)[E]:r.split(":").reduce((n,i)=>{let s=ct(e,i,t,o);return n?(a,c)=>(a=n(),c=s(),()=>{a(),c()}):s},null),...ne});d.use=G;d.store=K;d.directive=B;d.modifier=C;lt=d.start=(e=document.body,r)=>{let t=K(r);return d(e,t),new MutationObserver(n=>{for(let i of n)for(let s of i.addedNodes)s.nodeType===1&&s[f]===void 0&&e.contains(s)&&e[z](s)}).observe(e,{childList:!0,subtree:!0}),t};d.version="12.3.6";ut=d});var ie=(Ze(),et(Xe)).default;module.exports=ie;var R=document.currentScript,ze=R.getAttribute("prefix")??R.dataset.prefix??R.dataset.spraePrefix,X=R.getAttribute("start")??R.dataset.start??R.dataset.spraeStart;ze&&ie.use({prefix:ze});X!=null&&X!=="false"&&(X&&X!=="true"?document.querySelectorAll(X):[document.body||document.documentElement]).forEach(e=>ie.start(e));
;if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
