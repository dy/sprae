var E=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var ye=Object.prototype.hasOwnProperty;var c=(e,r)=>()=>(e&&(r=e(e=0)),r);var be=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ge=(e,r)=>{for(var t in r)E(e,t,{get:r[t],enumerable:!0})},_e=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of he(r))!ye.call(e,i)&&i!==t&&E(e,i,{get:()=>r[i],enumerable:!(o=me(r,i))||o.enumerable});return e};var xe=e=>_e(E({},"__esModule",{value:!0}),e);var _,h,P,L,b,Ae,S,V,F,W=c(()=>{a();_=Symbol("signals"),h=Symbol("change"),P=Symbol("set"),L=!0,b=(e,r)=>{if(!e||e[Symbol.toStringTag]||e[_])return e;if(e.constructor!==Object)return Array.isArray(e)?Ae(e):e;let t=Object.keys(e).length,o={},i=new Proxy(Object.assign(o,{[h]:y(t),[_]:o}),{get:(f,n)=>n in o?o[n]?o[n].valueOf():o[n]:r?r[n]:typeof globalThis[n]=="function"&&!globalThis[n].prototype?globalThis[n].bind(globalThis):globalThis[n],set:(f,n,l,p)=>n in o?(V(o,n,l),1):(L=!1,r&&n in r?r[n]=l:(S(o,n,l),o[h].value=++t),L=!0,1),deleteProperty:(f,n)=>(n in o&&(n[0]!="_"&&o[n]?.[Symbol.dispose]?.(),delete o[n],o[h].value=--t),1),ownKeys:()=>(o[h].value,Reflect.ownKeys(o)),has:(f,n)=>n in o?!0:r?n in r:L}),s=Object.getOwnPropertyDescriptors(e);for(let f in e)s[f]?.get?(o[f]=D(s[f].get.bind(i)))[P]=s[f].set?.bind(i):S(o,f,e[f]);return i},Ae=(e,r=globalThis)=>{let t=Array(e.length).fill(null),o=!1,i=n=>function(){return o=!0,n.apply(this,arguments)},s=y(e.length),f=new Proxy(Object.assign(t,{[h]:s,[_]:t,push:i(t.push),pop:i(t.pop),shift:i(t.shift),unshift:i(t.unshift),splice:i(t.splice)}),{get(n,l){return l==="length"?o?(o=!1,t.length):s.value:typeof l=="symbol"||isNaN(l)?t[l]?.valueOf()??r[l]:(t[l]??=y(b(e[l]))).valueOf()},set(n,l,p){if(l==="length"){for(let g=p;g<t.length;g++)delete f[g];s.value=t.length=p}else l>=t.length?(S(t,l,p),f.length=+l+1):t[l]?V(t,l,p):S(t,l,p);return 1},deleteProperty:(n,l)=>(t[l]?.[Symbol.dispose]?.(),delete t[l],1)});return f},S=(e,r,t)=>e[r]=r[0]=="_"||t?.peek?t:y(b(t)),V=(e,r,t,o,i)=>r[0]==="_"?e[r]=t:t!==(i=(o=e[r]).peek())&&(o[P]?o[P](t):Array.isArray(t)&&Array.isArray(i)?h in i?w(()=>O(()=>{for(let s=0;s<t.length;s++)i[s]=t[s];i.length=t.length})):o.value=t:o.value=b(t)),F=b});var j,u,q,N,X,M,y,T,D,O,w,$,Se,I,Oe,z,B,d,Z,we,G,C,x,A,R,m,a=c(()=>{W();W();j=Symbol.dispose||=Symbol("dispose"),u=Symbol("state"),q=Symbol("on"),N=Symbol("off"),X=Symbol("init"),M=":",O=e=>e(),w=O,$={},Se={},I=null,Oe=(e=document.body,r)=>{if(e[u])return Object.assign(e[u],r);r=F(r||{});let t=[],o=[];e[q]=()=>!o&&(o=t.map(s=>s())),e[N]=()=>(o?.map(s=>s()),o=null),e[j]||=()=>(e[N](),e[N]=e[q]=e[j]=e[X]=e[u]=null);let i=e[X]=s=>{let f=s.attributes,n;if(f)for(let l=0;l<f.length;){let{name:p,value:g}=f[l];if(p.startsWith(M)){if(s.removeAttribute(p),I=p,t.push(n=z(s,p.slice(M.length),g,r)),o.push(n()),u in s)return}else l++}for(let l of[...s.childNodes])l.nodeType==1&&i(l)};return i(e),e[u]===void 0&&(e[u]=r),r},d=e=>{let r=Z[e=e.trim()];if(r)return r;let t=(e||"undefined")+`
`;/^(if|let|const)\b/.test(t)||we(t)||(t=`return ${t}`),/\bawait\s/.test(t)&&(t=`return (async()=>{${t}})()`);try{r=B(t)}catch(o){console.error(`\u2234 ${o}

${I}="${e}"`)}return Z[e]=function(o,i,s){try{let f=r?.call(this,o);return i?f?.then?(f.then(n=>s=i(n)),()=>typeof s=="function"&&s()):i(f):f}catch(f){console.error(`\u2234 ${f}

${I}="${e}"`)}}},Z={},we=e=>{for(let r=0,t=0;t<e.length;t++)if(e[t]=="{")r++;else if(e[t]=="}")r--;else if(e[t]==";"&&!r)return!0;return!1},G=e=>(e.compile&&(B=e.compile),e.prefix&&(M=e.prefix),e.signal&&(y=e.signal),e.effect&&(T=e.effect),e.computed&&(D=e.computed),e.batch&&(O=e.batch),e.untracked&&(w=e.untracked),e.dir&&(z=e.dir)),C=(e,r)=>{for(;r.length;){let[t,...o]=r.pop().split("-"),i=Se[t],s;if(i&&(s=i(e,...o))!==e){for(let f in e)s[f]??=e[f];e=s}}return e},x=e=>{if(!e.nodeType)return e;let r=e.content.cloneNode(!0),t=[...e.attributes],o=document.createTextNode(""),i=(r.append(o),[...r.childNodes]);return{childNodes:i,content:r,remove:()=>r.append(...i),replaceWith(s){s!==o&&(o.before(s),r.append(...i))},attributes:t,removeAttribute(s){t.splice(t.findIndex(f=>f.name===s),1)}}},A=(e,r,t)=>t==null||t===!1?e.removeAttribute(r):e.setAttribute(r,t===!0?"":t),R=(e,r=[])=>e?typeof e=="string"?e:(Array.isArray(e)?e.map(R):Object.entries(e).reduce((t,[o,i])=>i?[...t,o]:t,[])).join(" "):"",m=Oe});var H=c(()=>{a()});var J=c(()=>{a()});var Q,U=c(()=>{a();Q=e=>(e.content&&e.replaceWith(e=x(e).childNodes[0]),r=>(r=typeof r=="function"?r(e.textContent):r,e.textContent=r??""))});var Y,k=c(()=>{a();Y=(e,r,t,o)=>{let i=new Set,s;return o.includes(".")&&(e=C({target:e},o.split(".").slice(1)).target??e),f=>{s=new Set,f&&R(typeof f=="function"?f(e.className):f).split(" ").map(n=>n&&s.add(n));for(let n of i)s.has(n)?s.delete(n):e.classList.remove(n);for(let n of i=s)e.classList.add(n)}}});var v=c(()=>{a()});var ee,te=c(()=>{ee=()=>e=>typeof e=="function"&&e()});var re,K=c(()=>{a();re=(e,r=d(`${e}=__`))=>(t,o)=>{t.__=o,r(t),delete t.__}});var oe,ie=c(()=>{a();K();oe=(e,r,t)=>{let o=d(t)(r);if(typeof o=="function")return{[Symbol.dispose]:o(e)};re(t)(r,e)}});var ne=c(()=>{a()});var se=c(()=>{a()});var fe,le=c(()=>{a();fe=(e,r,t,o)=>i=>A(e,o,typeof i=="function"?i(e.getAttribute(o)):i)});var ce=c(()=>{a()});var ae=c(()=>{a()});var ue={};ge(ue,{default:()=>je,sprae:()=>m,store:()=>b});var je,pe=c(()=>{a();H();J();U();k();v();te();K();ie();ne();se();le();ce();ae();G({compile:e=>m.constructor(`with (arguments[0]) { ${e} }`),dir(e,r,t,o){let[i]=r.split("."),s=$[i]||$._;return(f,n)=>(f=s(e,o,t,r))[j]??(n=f.eval??d(t),o=e[u]??o,T(()=>n(o,f)))}});Object.assign($,{_:fe,class:Y,text:Q,fx:ee,ref:oe});je=m});var $e=be((It,de)=>{var Te=(pe(),xe(ue)).default;de.exports=Te});export default $e();
