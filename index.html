<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprae</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- <script src="//unpkg.com/sprae" start></script> -->
    <script src="./dist/sprae.umd.js" start></script>
    <script src="//unpkg.com/microlight" start></script>
    <!-- <script src="./microlight.js" start></script> -->
    <link rel="stylesheet" href="./assets/style.css" />
    <style>
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgb(from dodgerblue r g b / 54%), transparent 75%);
        transition: background-position 0.05s;
        z-index: 2;
        mix-blend-mode: screen;
      }

      a {
        color: var(--color-blue-700);
        text-decoration-color: rgb(from currentColor r g b / 20%);
        text-underline-offset: .2em;
        text-decoration-line: underline;
      }

      a:hover {
        text-decoration-color: var(--color-blue-700);
      }

      pre {
        background: var(--color-blue-600);
        color: white;
        white-space: pre-wrap;
        word-wrap: break-word;

        /* microhighlight tweaks */
        [style*="opacity:.7;"] {
          color: #9dc7ff;
          opacity: 1 !important;
        }
      }

      button {
        cursor: pointer;
        background: var(--color-blue-700);
        color: white;
        padding: 0.65rem 1.2rem;
        position: relative;
        z-index: 1;
      }

      .bg-graph-paper {
        background-image: linear-gradient(to right, rgb(from var(--color-blue-700) r g b / 20%) 1px, transparent 1px), linear-gradient(to bottom, rgb(from var(--color-blue-700) r g b / 20%) 1px, transparent 1px);
        background-size: 1rem 1rem;
        background-color: var(--color-bg);
      }
    </style>
  </head>

  <body class="flex-col p-6 md:px-12 md:py-20 max-md:before:hidden" :scope="x=window.innerWidth/2, y=window.innerHeight/2, scroll=0, getFs=()=>parseFloat(window.getComputedStyle(document.documentElement).fontSize), fs=getFs()"
    :onmousemove.document="e => { x = e.clientX; y = e.clientY; }" :onscroll.window="e => { scroll = Math.max(0,Math.min(1, window.scrollY / (document.documentElement.scrollHeight - window.innerHeight))) * 100 }" :onresize.window="fs=getFs()"
    :style.root="{'--x': x + 'px', '--y': y + 'px', '--scroll': scroll+'%'}"
    :style.body="/*{'background-position': '-0.5rem -0.5rem', 'background-image': (`url(&quot;data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'`+fs+`\' height=\'`+fs+`\' viewBox=\'-`+fs/2+` -`+fs/2+` `+fs+` `+fs+`\'><path d=\'M0 -3v6M-3 0h6\' stroke=\'rgba(157, 199, 255, 1)\' stroke-width=\'0.5\'/></svg>&quot;)`)}*/">

    <nav class="container max-w-6xl mx-auto flex md:grid grid-cols-6 gap-16 top-8 right-8">
      <div class="col-start-4 col-span-2 flex flex-row gap-4 md:gap-8 bold text-lg font-semibold  md:leading-[1rem]">
        <a href="./docs">docs</a>
        <a href="./drops">drops</a>
        <!-- <a href="./changelog.html">play</a> -->
        <a href="https://github.com/dy/sprae" class="relative before:content-['‚å•¬†¬†'] before:absolute before:-ml-6 ml-6">v<span :text="window.sprae?.version || '12.1.0'"></span></a>
      </div>
    </nav>

    <header class="md:my-8">
      <div class="container max-w-6xl mx-auto md:grid grid-cols-6">
        <h1 class="text-7xl md:text-8xl font-black text-blue-700 col-span-3 md:text-right mb-4 mt-4 tracking-tight md:leading-[4rem]"><span class="max-md:hidden">‚à¥&thinsp;</span>spr√¶</h1>
      </div>
      <div class="container max-w-6xl mx-auto md:grid grid-cols-6 gap-16">
        <div class="col-start-4 col-span-3 text-blue-700">
          <h2 class="group text-3xl md:text-4xl font-bold md:leading-[2.5rem] cursor-pointer select-none" :scope="
            rand= s => s.split(' ').map(p => p.split('|')[Math.random()*p.split('|').length|0]).join(' '),
            s = 'Simple|Subtle|Semantic|Structured|Scalable|Sleek|Self-documenting|Streamlined|Systematic|Small|Smart|Standard|Sane|Smooth|Stateful|Static|Scalable|Streamline|Signal|Signal-based|Synchronized|Scriptless',
            sp = 'Signal-Powered',
            p = 'Progressive|Pragmatic|Practical|Purposeful|Pluggable|Programmatic|Powerful|Playful|Project|Presentational|Performant|Programming',
            pr = 'PRogressive|PRagmatic|PRactical|PReactive|PRogrammatic|PRogramming|PRototype|PRoject|PResentational',
            prae = 'PRogressive¬†√Ünhancement|PReactive¬†√Üttributes|PRactical¬†√Üsthetics|PRogrammatic¬†√Üttributes|PRogramming¬†√Üxpressions|PReactive¬†√ÜPI',
            r = 'Reactive|Robust|Responsive|Rational|Reliable|Runtime|Reusable|Readable|Radical|Rapid',
            rae = 'R√Üctivity|Reactive¬†√Üsthetic|Reactive¬†√Üttributes|Reactive¬†√Üxpressions|Reactive¬†√Ünhancement|Reactive¬†√Ücosystem|Reactive¬†√Üffects|Reactive¬†√Üctions|Reactive¬†√ÜPI|Reactive¬†√Üngine',
            ae = '√Üsthetic|√Üsthetics|√Üxpressions|√Üttributes|√Ünhancement|√Ücosystem|√Üffects|√Üctions|√ÜPI|√Üngine|√Ünvironment',
            a = 'Aesthetic|Aesthetics|Attributes|Action|API',
            e = 'Enhancement|Ecosystem|Expressions|Effects|Engine|Environment',
            titles=[
              `${s} ${prae}`,
              `${s} ${pr} ${ae}`,
              `${s} ${pr} ${a} ${e}`,
              `${s} ${p} ${rae}`,
              `${s} ${p} ${r} ${ae}`,
              `${s} ${p} ${r} ${a} ${e}`,
              `${sp} ${rae}`,
              `${sp} ${r} ${ae}`,
              `${sp} ${r} ${a} ${e}`
            ],
            getTitle=()=>{
              let t, p
              while ((t = rand(p=titles[(Math.random()*titles.length)|0])) === title);
              return t
            },
            title=getTitle()" :onclick="title=getTitle()">
            <span :text="title">Signal-Powered Reactive √Üsthetics</span>&nbsp;<span class="absolute cursor-pointer font-[100] group-hover:opacity-100 opacity-0 inline-block transition-transform group-hover:rotate-360 ease-linear duration-9000">‚Üª</span>
          </h2>
          <h5 class="my-4 text-xl md:text-2xl mb-4 md:leading-[2rem]">
            Add UI interactions for HTML with reactive attributes
          </h5>
        </div>
      </div>
    </header>

    <main>
      <section class="container max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-6 md:my-20" :scope>
        <pre class="p-6 md:p-8 col-span-3 microlight text-sm md:text-base"><code :ref="code">&lt;script src="//unpkg.com/sprae" start&gt;&lt;/script&gt;

&lt;div :scope="count=0"&gt;
  &lt;button :onclick="count++"&gt;+&lt;/button&gt;
  &lt;button :onclick="count--"&gt;‚Äì&lt;/button&gt;
  Count: &lt;span :text="count"&gt;&lt;/span&gt;
&lt;/div&gt;</code></pre>
        <div class="col-span-3 p-8 bg-graph-paper h-full text-lg" :ref="el => el.innerHTML = code.textContent">
        </div>
      </section>
      <!--
      <section class="container max-w-6xl mx-auto my-20 md:grid grid-cols-6">
        <h2 class="text-4xl text-blue-700 font-bold col-span-2 col-start-2 mb-4">Principles</h2>
        <ul class="col-span-3 text-blue-700 list-inside space-y-2">
          <li>Minimal. Uncluttered. Tiny API.</li>
          <li>Open state. Signals reactivity. Configurable.</li>
          <li>0 deps. No build step. JSX, CSP support.</li>
        </ul>
      </section> -->

      <section class="container max-w-6xl mx-auto my-20" :scope='{
        active: 0,
        dirs: [
          { title: ":text", text: "Set text content.", example: `¬© &lt;span :text="new Date().getFullYear()"&gt;&lt;/span&gt;` },
          { title: ":class", text: "Set className.", example: `&lt;div :class="{ active: isActive }"&gt;...&lt;/div&gt;` },
          { title: ":style", text: "Set style.", example: `&lt;div :style="{bar: &apos;baz&apos;, &apos;--qux&apos;: &apos;quv&apos;}"&gt;...&lt;/div&gt;` },
          { title: ":value", text: "Bind input, textarea or select value.", example: `&lt;input :value="value" /&gt;` },
          { title: ":<attr>, :", text: "Set any attribute(s).", example: `&lt;input :id="name" :="{ ...props }" /&gt;` },
          { title: ":if, :else", text: "Control flow.", example: `&lt;span :if="foo"&gt;foo&lt;/span&gt;\n&lt;span :else :if="bar"&gt;bar&lt;/span&gt;\n&lt;span :else&gt;baz&lt;/span&gt;` },
          { title: ":each", text: "Multiply content.", example: `&lt;li :each="item in items" :text="item" /&gt;` },
          { title: ":scope", text: "Define state container for a subtree.", example: `&lt;x :scope="{foo: &apos;foo&apos;}"&gt;\n\t&lt;y :text="foo"&gt;...&lt;/y&gt;\n&lt;/x&gt;` },
          { title: ":fx", text: "Run effect.", example: `&lt;div :fx="a.value ? foo() : bar()" /&gt;` },
          { title: ":ref", text: "Expose an element in scope or get ref to the element.", example: `&lt;div :ref="card" :fx="handle(card)"&gt;...&lt;/div&gt;` },
          { title: ":on<event>", text: "Add event listener.", example: `&lt;button :onclick="count++"&gt;Up&lt;/button&gt;` }
        ],
        mods: [
          { title: ".debounce-<ms>", text: "Defer callback by ms. Defaults to 250ms.", example: `&lt;input :oninput.debounce-200="update(event)" /&gt;` },
          { title: ".throttle-<ms>", text: "Limit callback rate to interval in ms. By default 250ms.", example: `&lt;div :text.throttle-100="text.length"&gt;...&lt;/div&gt;` },
          { title: ".tick", text: "Defer callback to next microtask.", example: `&lt;div :class.tick="{ active }"&gt;...&lt;/div&gt;` },
          { title: ".raf", text: "Throttle callback to animation frame.", example: `&lt;div :style.raf="{&apos;--progress&apos;: progress + &apos;%&apos;}"&gt;...&lt;/div&gt;` },
          { title: ".once", text: "Call only once.", example: `&lt;button :onclick.once="loadMoreData()"&gt;Start&lt;/button&gt;` },
          { title: ".window", text: "Set window as target.", example: `&lt;div :onresize.window="updateSize()"&gt;...&lt;/div&gt;` },
          { title: ".document", text: "Set document as target.", example: `&lt;div :onkeydown.document="handleKey(event)"&gt;...&lt;/div&gt;` },
          { title: ".root", text: "Set root as target.", example: `&lt;div :style.root="{&apos;--fs&apos;: fs + &apos;%&apos;}"&gt;...&lt;/div&gt;` },
          { title: ".body", text: "Set body as target.", example: `&lt;div :style.body="{&apos;--x&apos;: x + &apos;%&apos;}"&gt;...&lt;/div&gt;` },
          { title: ".parent", text: "Set parent as target.", example: `&lt;div :onclick.parent="doSomething()"&gt;...&lt;/div&gt;` },
          { title: ".outside", text: "Set event target.", example: `&lt;div :onclick.outside="closeMenu()"&gt;Dropdown&lt;/div&gt;` },
          { title: ".self", text: "Trigger only if event target is the element itself.", example: `&lt;div :onclick.self="doSomething()"&gt;...&lt;/div&gt;` },
          { title: ".passive, .capture", text: "Event listener options.", example: `&lt;div :onscroll.passive="pos = e.scrollTop"&gt;...&lt;/div&gt;` },
          { title: ".prevent, .stop, .immediate", text: "Prevent default or stop (immediate) propagation.", example: `&lt;a :onclick.prevent="navigate(&apos;/page&apos;)" href="/default"&gt;Go&lt;/a&gt;` },
          { title: ".<key>, .<meta>-<key>", text: "Filter event by event.key or combination (.ctrl, .shift, .alt, .meta, .arrow, .digit, .letter, .char, .enter, .esc, .tab, .delete).", example: `&lt;div :onkeydown.cmd-arrow="navigate(event.key)"&gt;...&lt;/div&gt;` }
        ]
      }'>
        <header class="md:grid grid-cols-6 gap-8 items-baseline">
          <h2 class="text-3xl text-blue-700 col-span-2 mb-2 font-bold md:pl-6">Reference</h2>

          <nav class="flex flex-row gap-1">
            <span :onpointerup="active=0" class="relative flex gap-2 cursor-pointer text-lg text-blue-700 p-4 md:px-6 [&.active]:bg-white font-medium" :class="{active:active==0}">Directives <strong :text="dirs.length" class="font-black"></strong></span>
            <span :onpointerup="active=1" class="relative flex gap-2 cursor-pointer text-lg text-blue-700 p-4 md:px-6 [&.active]:bg-white font-medium" :class="{active:active==1}">Modifiers <strong :text="mods.length" class="font-black"></strong></span>
          </nav>
        </header>

        <dl :if="active==0" class="flex flex-col">
          <div class="group grid-6 md:grid grid-cols-6 gap-8 hover:bg-white md:pr-0 md:mr-0" :each="item in dirs">
            <div class="col-span-2 pt-4 pb-4 md:px-6">
              <dt>
                <h5 class="text-lg text-blue-700 leading-snug" :text="item.title">dir</h5>
              </dt>
              <dd>
                <p class="" :text="item.text">Set text content.</p>
              </dd>
            </div>
            <pre class="p-4 md:p-6 col-span-4 group-hover:bg-blue-600! microlight text-sm"><code :text="item.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </dl>

        <div :if="active==1">
          <div class="group grid-6 md:grid grid-cols-6 gap-8 hover:bg-white md:pr-0 md:mr-0" :each="item in mods">
            <div class="col-span-2 pt-4 pb-4 md:px-6">
              <dt>
                <h5 class="text-lg text-blue-700 leading-snug" :text="item.title">mod</h5>
              </dt>
              <dd>
                <p class="" :text="item.text">Set text content.</p>
              </dd>
            </div>
            <pre class="p-4 md:p-6 col-span-4 group-hover:bg-blue-600! microlight text-sm" :fx.debounce-tick="microlight.reset()"><code :text="item.example">&lt;span :text="user.name"&gt;Guest&lt;/span&gt;</code></pre>
          </div>
        </div>
      </section>

      <!-- <section class="my-16">
        <h2>Examples</h2>
        <ul>
          <li><code>:if</code> ‚Äî toggle element visibility</li>
          <li><code>:for</code> ‚Äî list rendering</li>
          <li><code>:class</code> ‚Äî conditional classes</li>
          <li><code>:style</code> ‚Äî dynamic inline styles</li>
          <li><code>:html</code> ‚Äî render raw HTML</li>
        </ul>
      </section> -->

      <section class="container max-w-6xl mx-auto my-16 md:grid grid-cols-6 gap-8">
        <h2 class="text-3xl text-blue-700 font-bold col-span-2 md:pl-6 mt-2">FAQ</h2>
        <div class="col-span-4 [&_h4]:text-xl [&_h4]:text-blue-700 [&_h4]:font-bold [&_h4]:mt-4 [&_p]:my-1">
          <h4>Why sprae?</h4>
          <p>
            Minimal syntax, valid HTML, preact-signals based, build-free, ecosystem-agnostic (CDN, ESM, JSX), extensible, configurable, open, safe, fast and practical. It marries patterns from preact-signals, alpine and lodash/underscore. Made with ü´∞ for better DX without complexity.
            Perfect for static sites, landings, GitHub Pages, prototypes, lightweight UIs, etc.
          </p>
          <h4>Why not Alpine.js?</h4>
          <p>Less syntax, no magic, lighter, faster, signals support, open state, ESM, extensibility, aliases and sequences.</p>
          <h4>Why not Vanilla JS?</h4>
          <p>Reactive benefits in context of UI. createElement is wrong mantra. <!--But there is potential of static compilation.--></p>
          <h4>Why not Next/React?</h4>
          <p>No build, no deps, no external conventions. Some find react <a href="https://www.keithcirkel.co.uk/i-dont-have-time-to-learn-react/">not worth the time</a>. But sprae works well with <a href="https://dy.github.io/sprae/docs#jsx">JSX</a>,
            which can help preventing unnecessary client components.</p>
          <h4>Why signals?</h4>
          <p>Signals is <a href="https://github.com/tc39/proposal-signals">standard</a> primitive for reactivity. <a href="https://github.com/preactjs/signals">Preact-signals</a> provide minimal API surface, and are useful outside of react/preact context.
          </p>
          <h4>Who cares for progressive enhancement?</h4>
          <p>Who builds long-lasting, low-maintenance, fail-proof, accessible, portable SEO-optimized web.</p>
          <h4>Is it just a toy?</h4>
          <p>It is used in production, but it's fun to play and comes with state sandbox.</p>
          <h4>Does it scale to complex state?</h4>
          <p>As far as you can handle it and CPU allows. Sprae has good performance.</p>
          <!-- <h4>Is no build step outdated?</h4>
          <p>Sprae saves the hassle configuring it, but it can be part of build pipeline as well. </p> -->
          <h4>Is new Function unsafe?</h4>
          <p>If your HTML comes from strangers or requires CSP, there is <a href="https://dy.github.io/sprae/docs#evaluator">safe evaluator</a>.</p>
          <h4>Components support?</h4>
          <p>Awaiting the <a href="https://github.com/WICG/webcomponents/blob/gh-pages/proposals/Declarative-Custom-Elements-Strawman.md">DCE proposal</a>, meanwhile we have to <a
              href="https://tailwindcss.com/docs/styling-with-utility-classes#managing-duplication">manage duplication</a>.</p>
          <h4>Is there ecosystem?</h4>
          <p>Not yet.</p>
          <h4>TypeScript support?</h4>
          <p>If you need it please <a href="https://github.com/dy/sprae/issues/new">leave a request</a>.</p>
          <h4>Browser Compatibility?</h4>
          <p>Any browser with <a href="https://caniuse.com/proxy">Proxy support</a>.</p>
          <h4>Is it stable?</h4>
          <p>Yes, since v10.</p>
          <h4>How old is it?</h4>
          <p><span :text="new Date().getFullYear() - 2022">enough</span> years old (<a href="https://github.com/dy/sprae/commit/ee7e372fb372bde5bdd7bfd3524cdaa815793663">first commit</a> Nov 7, 2022).</p>
          <h4>Will it be maintained long-term? </h4>
          <p>12 versions, 1.5k+ commits and future plans.</p>
          <h4>What‚Äôs future plan?</h4>
          <p>Plugins, components, integration cases, generators.</p>
          <h4>Is it backed by a company?</h4>
          <p>No. Just regular devs. You can <a href="https://github.com/sponsors/dy">support it</a>!</p>
        </div>
      </section>

      <section class="container max-w-6xl mx-auto my-16" hidden>
        <h2>Comparison</h2>
        <table>
          <tr>
            <th>Framework</th>
            <th>Size</th>
            <th>Build Step</th>
            <th>Philosophy</th>
          </tr>
          <tr>
            <td>Sprae</td>
            <td>~5KB</td>
            <td>No</td>
            <td>Minimal, declarative, reactive</td>
          </tr>
          <tr>
            <td>Alpine.js</td>
            <td>~10KB</td>
            <td>No</td>
            <td>Rich features, declarative</td>
          </tr>
          <tr>
            <td>Petite-Vue</td>
            <td>~6KB</td>
            <td>No</td>
            <td>Subset of Vue features</td>
          </tr>
          <tr>
            <td>Lucia</td>
            <td>~3KB</td>
            <td>No</td>
            <td>Small reactive core</td>
          </tr>
        </table>
      </section>
    </main>

    <footer class="font-black">
      <p align="center"><a href="https://github.com/krsnzd/license/">‡•ê</a></p>
    </footer>
  </body>

</html>
